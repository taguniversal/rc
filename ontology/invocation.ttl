@prefix inv: <https://digitalblockchain.io/ontology/invocation#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

#################################################################
### === CORE ENTITIES ===
#################################################################

inv:NamedEntity a rdfs:Class ;
    rdfs:label "Named Entity" ;
    rdfs:comment "An abstract class for constructs that have a symbolic name." .

inv:Definition a rdfs:Class ;
    rdfs:subClassOf inv:NamedEntity ;
    rdfs:label "Definition" ;
    rdfs:comment "A reusable construct mapping inputs to outputs via a transformation." .

inv:Invocation a rdfs:Class ;
    rdfs:subClassOf inv:NamedEntity ;
    rdfs:label "Invocation" ;
    rdfs:comment "A symbolic activation of a Definition by name." .

inv:ContainedDefinition a rdfs:Class ;
    rdfs:label "Contained Definition" ;
    rdfs:comment "A sub-definition nested within a larger Definition." .

#################################################################
### === SIGNAL PLACES ===
#################################################################

inv:Place a rdfs:Class ;
    rdfs:subClassOf inv:NamedEntity ;
    rdfs:label "Place" ;
    rdfs:comment "A conceptual location where values originate or are stored." .

inv:SourcePlace a rdfs:Class ;
    rdfs:subClassOf inv:Place ;
    rdfs:label "Source Place" ;
    rdfs:comment "A place that provides data to computations." .

inv:DestinationPlace a rdfs:Class ;
    rdfs:subClassOf inv:Place ;
    rdfs:label "Destination Place" ;
    rdfs:comment "A place that receives data from computations." .

inv:PlaceOfResolution a rdfs:Class ;
    rdfs:label "Place of Resolution" ;
    rdfs:comment "A self-contained structure where input values are evaluated into outputs." .

#################################################################
### === LOGIC AND EXPRESSIONS ===
#################################################################

inv:ExpressionFragment a rdfs:Class ;
    rdfs:label "Expression Fragment" ;
    rdfs:comment "A logic step inside a PlaceOfResolution, such as a computation, invocation, or assignment." .

inv:ConditionalInvocation a rdfs:Class ;
    rdfs:label "Conditional Invocation" ;
    rdfs:comment "A dynamic invocation constructed from input signal values." .

inv:ResolutionMapping a rdfs:Class ;
    rdfs:label "Resolution Mapping" ;
    rdfs:comment "A mapping of symbolic input patterns to resulting outputs." .

inv:ArrayedExpression a rdfs:Class ;
    rdfs:subClassOf inv:ExpressionFragment ;
    rdfs:label "Arrayed Expression" ;
    rdfs:comment "Template for generating a sequence of expressions over a range." .

#################################################################
### === SUPPORT STRUCTURES ===
#################################################################

inv:LoopRange a rdfs:Class ;
    rdfs:label "Loop Range" ;
    rdfs:comment "Defines start and end indices for a looping expression." .

inv:EdgeBehavior a rdfs:Class ;
    rdfs:label "Edge Behavior" ;
    rdfs:comment "Specifies behavior for overflow/underflow in signal indexing." .

#################################################################
### === PROPERTIES ===
#################################################################

# === Naming and Identification ===

inv:name a rdf:Property ;
    rdfs:domain inv:NamedEntity ;
    rdfs:range rdfs:Literal ;
    rdfs:label "name" ;
    rdfs:comment "Symbolic identifier for any NamedEntity." .

inv:uuid a rdf:Property ;
    rdfs:domain inv:Invocation ;
    rdfs:range xsd:string ;
    rdfs:label "uuid" ;
    rdfs:comment "Globally unique identifier assigned to an Invocation." .

inv:ofDefinition a rdf:Property ;
    rdfs:domain inv:Invocation ;
    rdfs:range xsd:string ;
    rdfs:label "ofDefinition" ;
    rdfs:comment "References the Definition that an Invocation calls." .

# === Place Content ===

inv:hasContent a rdf:Property ;
    rdfs:domain inv:Place ;
    rdfs:range rdfs:Literal ;
    rdfs:label "hasContent" ;
    rdfs:comment "The current value assigned to a Place." .

### === LIST CONTAINERS ===

inv:DestinationList a rdfs:Class ;
    rdfs:label "Destination List" ;
    rdfs:comment "A list of DestinationPlaces passed into a Definition as the first positional group." .

inv:SourceList a rdfs:Class ;
    rdfs:label "Source List" ;
    rdfs:comment "A list of SourcePlaces passed into a Definition as the second positional group." .

# === Conditional Invocations ===

inv:invocationName a rdf:Property ;
    rdfs:domain inv:ConditionalInvocation ;
    rdfs:range rdfs:Literal ;
    rdfs:label "invocationName" ;
    rdfs:comment "Template-based name formed from current input signal values." .

inv:resolvedInvocationName a rdf:Property ;
    rdfs:domain inv:ConditionalInvocation ;
    rdfs:range rdfs:Literal ;
    rdfs:label "resolvedInvocationName" ;
    rdfs:comment "Fully-resolved invocation name at runtime." .

inv:resolutionTable a rdf:Property ;
    rdfs:domain inv:ContainedDefinition ;
    rdfs:range rdfs:Literal ;
    rdfs:label "resolutionTable" ;
    rdfs:comment "Symbolic mapping of input patterns to outputs." .

# === Arrayed Expression ===

inv:range a rdf:Property ;
    rdfs:domain inv:ArrayedExpression ;
    rdfs:range inv:LoopRange ;
    rdfs:label "range" ;
    rdfs:comment "Specifies loop start/end indices for arrayed generation." .

inv:body a rdf:Property ;
    rdfs:domain inv:ArrayedExpression ;
    rdfs:range inv:ExpressionFragment ;
    rdfs:label "body" ;
    rdfs:comment "Expression fragment repeated across indices." .

inv:edgeBehavior a rdf:Property ;
    rdfs:domain inv:ArrayedExpression ;
    rdfs:range inv:EdgeBehavior ;
    rdfs:label "edgeBehavior" ;
    rdfs:comment "Underflow/overflow handling for indexed array access." .

# === Loop Range Properties ===

inv:from a rdf:Property ;
    rdfs:domain inv:LoopRange ;
    rdfs:range xsd:integer ;
    rdfs:label "from" ;
    rdfs:comment "Start index for a loop range (inclusive)." .

inv:to a rdf:Property ;
    rdfs:domain inv:LoopRange ;
    rdfs:range xsd:integer ;
    rdfs:label "to" ;
    rdfs:comment "End index for a loop range (inclusive)." .

# === Edge Behavior Properties ===

inv:underflow a rdf:Property ;
    rdfs:domain inv:EdgeBehavior ;
    rdfs:range xsd:string ;
    rdfs:label "underflow" ;
    rdfs:comment "How to handle index underflow (e.g., 'zero', 'wrap', 'clamp')." .

inv:overflow a rdf:Property ;
    rdfs:domain inv:EdgeBehavior ;
    rdfs:range xsd:string ;
    rdfs:label "overflow" ;
    rdfs:comment "How to handle index overflow (e.g., 'zero', 'wrap', 'clamp')." .
