digraph NashReceiver {
    // Graph settings
    rankdir=LR;
    node [shape=box, fontname="Arial"];
    edge [fontname="Arial"];

    // Input and Output
    input [shape=none, label="Input\n(Ciphertext)"];
    output [shape=none, label="Output\n(Plaintext)"];

    // Components
    R [label="R\n(Retarder)"];
    A [label="A\n(Adder)"];
    D [label="D\n(Decider)"];
    P [label="P\n(Permuter)"];

    // Split point for input
    split [shape=point];

    // Connections following Nash's original diagram
    input -> split;
    split -> A;              // Direct path to adder
    split -> R;              // Path through retarder
    R -> D;                  // Retarder to decider
    D -> P;                  // Decider controls permuter
    P -> A;                  // Permuter output to adder
    A -> output;             // Adder output is plaintext

    // Labels
    subgraph cluster_legend {
        label="Legend";
        node [shape=plaintext];
        l1 [label="R: One-Unit Delay"];
        l2 [label="A: Binary Addition mod 2"];
        l3 [label="D: Chooses Red/Blue Path"];
        l4 [label="P: Permuter"];
    }
}
